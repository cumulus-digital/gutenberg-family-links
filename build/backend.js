!function(){"use strict";!function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var t=window.wp.element;function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function l(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,o=[],_n=!0,a=!1;try{for(n=n.call(e);!(_n=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);_n=!0);}catch(e){a=!0,l=e}finally{try{_n||null==n.return||n.return()}finally{if(a)throw l}}return o}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=window.lodash;function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?i(Object(r),!0).forEach((function(n){e(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=wp.components.ComboboxControl,s=wp.element,p=s.useState,d=s.useMemo,m=wp.data,h=m.useSelect,y=(m.useDispatch,wp.htmlEntities.decodeEntities),v=wp.coreData.store;function f(e){var t;return null!=e&&null!==(t=e.title)&&void 0!==t&&t.rendered?y(e.title.rendered):"#".concat(e.id," (").concat(__("no title"),")")}var g=function(e,t){var n=(0,a.deburr)(e).toLowerCase(),r=(0,a.deburr)(t).toLowerCase();return n===r?0:n.startsWith(r)?n.length:1/0},b=function(e){var n=o(p(!1),2),r=n[0],i=n[1],s=h((function(t){var n=t(v),l=n.getPostType,o=n.getEntityRecords,i=n.getEntityRecord,c=wp.data.select("core/editor").getCurrentPostType(),u=e.parentPostId,s=l(c),p=(0,a.get)(s,["hierarchical"],!1),d={per_page:100,orderby:"menu_order",order:"asc",_fields:"id,title,parent"};return r&&(d.search=r),{parentPostId:u,parentPost:u?i("postType",c,u):null,items:p?o("postType",c,d):[],postType:s}}),[r]),m=s.parentPost,y=(s.parentPostId,s.items),b=s.postType,w=(0,a.get)(b,["hierarchical"],!1),E=e.label||"Select a Page or Post",P=y||[],C=d((function(){var t,n,i=P.map((function(e){return{id:e.id,parent:e.parent,name:f(e)}}));r||(t=i.map((function(e){return c({children:[],parent:null},e)})),i=(n=(0,a.groupBy)(t,"parent")).null&&n.null.length?t:function e(t){return t.map((function(t){var r=n[t.id];return c(c({},t),{},{children:r&&r.length?e(r):[]})}))}(n[0]||[]));var u=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=t.map((function(t){return[{value:t.id,label:(0,a.repeat)("â€” ",n)+(0,a.unescape)(t.name),rawName:t.name}].concat(l(e(t.children||[],n+1)))})),c=i.sort((function(e,t){var n=o(e,1)[0],l=o(t,1)[0];return g(n.rawName,r)>=g(l.rawName,r)?1:-1}));return(0,a.flatten)(c)}(i),s=(0,a.find)(u,(function(t){return t.value===e.parentPostId}));return m&&!s&&u.unshift({value:e.parentPostId,label:f(m)}),u}),[P,r]);return w&&E?(0,t.createElement)(u,{className:"editor-page-attributes__parent",label:E,value:e.parentPostId,options:C,onFilterValueChange:(0,a.debounce)((function(e){i(e)}),300),onChange:function(t){e.onChange&&e.onChange(t)}}):null},w=JSON.parse('{"name":"cumulus-gutenberg/family-links","apiVersion":2,"title":"Family Links","description":"Insert a page\'s children or siblings","keywords":["family","child","children","sibling"],"icon":{"src":"admin-links","foreground":"#00588d"},"category":"cmls","attributes":{"align":{"type":"string"},"parentPostId":{"type":"integer","default":null},"showChildren":{"type":"boolean","default":true},"depth":{"type":"integer","default":0},"displayType":{"type":"string","default":"plain"},"childIndent":{"type":"string","default":"1em"},"underlineLinks":{"type":"boolean","default":true},"underlineOnHover":{"type":"boolean","default":true},"linkColor":{"type":"string","default":null},"linkColorHover":{"type":"string","default":null},"textAlign":{"type":"string","default":null},"fontWeight":{"type":"string","default":null},"fontStyle":{"type":"string","default":null}},"supports":{"align":false,"anchor":true,"className":true,"spacing":{"padding":true,"margin":true},"typography":{"align":true,"fontSize":true,"lineHeight":false,"fontWeight":true,"textTransform":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true}}}'),E=window.wp.primitives,P=(0,t.createElement)(E.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(E.Path,{d:"M6.1 6.8L2.1 18h1.6l1.1-3h4.3l1.1 3h1.6l-4-11.2H6.1zm-.8 6.8L7 8.9l1.7 4.7H5.3zm15.1-.7c-.4-.5-.9-.8-1.6-1 .4-.2.7-.5.8-.9.2-.4.3-.9.3-1.4 0-.9-.3-1.6-.8-2-.6-.5-1.3-.7-2.4-.7h-3.5V18h4.2c1.1 0 2-.3 2.6-.8.6-.6 1-1.4 1-2.4-.1-.8-.3-1.4-.6-1.9zm-5.7-4.7h1.8c.6 0 1.1.1 1.4.4.3.2.5.7.5 1.3 0 .6-.2 1.1-.5 1.3-.3.2-.8.4-1.4.4h-1.8V8.2zm4 8c-.4.3-.9.5-1.5.5h-2.6v-3.8h2.6c1.4 0 2 .6 2 1.9.1.6-.1 1-.5 1.4z"})),C=(0,t.createElement)(E.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(E.Path,{d:"M11 16.8c-.1-.1-.2-.3-.3-.5v-2.6c0-.9-.1-1.7-.3-2.2-.2-.5-.5-.9-.9-1.2-.4-.2-.9-.3-1.6-.3-.5 0-1 .1-1.5.2s-.9.3-1.2.6l.2 1.2c.4-.3.7-.4 1.1-.5.3-.1.7-.2 1-.2.6 0 1 .1 1.3.4.3.2.4.7.4 1.4-1.2 0-2.3.2-3.3.7s-1.4 1.1-1.4 2.1c0 .7.2 1.2.7 1.6.4.4 1 .6 1.8.6.9 0 1.7-.4 2.4-1.2.1.3.2.5.4.7.1.2.3.3.6.4.3.1.6.1 1.1.1h.1l.2-1.2h-.1c-.4.1-.6 0-.7-.1zM9.2 16c-.2.3-.5.6-.9.8-.3.1-.7.2-1.1.2-.4 0-.7-.1-.9-.3-.2-.2-.3-.5-.3-.9 0-.6.2-1 .7-1.3.5-.3 1.3-.4 2.5-.5v2zm10.6-3.9c-.3-.6-.7-1.1-1.2-1.5-.6-.4-1.2-.6-1.9-.6-.5 0-.9.1-1.4.3-.4.2-.8.5-1.1.8V6h-1.4v12h1.3l.2-1c.2.4.6.6 1 .8.4.2.9.3 1.4.3.7 0 1.2-.2 1.8-.5.5-.4 1-.9 1.3-1.5.3-.6.5-1.3.5-2.1-.1-.6-.2-1.3-.5-1.9zm-1.7 4c-.4.5-.9.8-1.6.8s-1.2-.2-1.7-.7c-.4-.5-.7-1.2-.7-2.1 0-.9.2-1.6.7-2.1.4-.5 1-.7 1.7-.7s1.2.3 1.6.8c.4.5.6 1.2.6 2s-.2 1.4-.6 2z"})),x=(0,t.createElement)(E.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(E.Path,{d:"M7.1 6.8L3.1 18h1.6l1.1-3h4.3l1.1 3h1.6l-4-11.2H7.1zm-.8 6.8L8 8.9l1.7 4.7H6.3zm14.5-1.5c-.3-.6-.7-1.1-1.2-1.5-.6-.4-1.2-.6-1.9-.6-.5 0-.9.1-1.4.3-.4.2-.8.5-1.1.8V6h-1.4v12h1.3l.2-1c.2.4.6.6 1 .8.4.2.9.3 1.4.3.7 0 1.2-.2 1.8-.5.5-.4 1-.9 1.3-1.5.3-.6.5-1.3.5-2.1-.1-.6-.2-1.3-.5-1.9zm-1.7 4c-.4.5-.9.8-1.6.8s-1.2-.2-1.7-.7c-.4-.5-.7-1.2-.7-2.1 0-.9.2-1.6.7-2.1.4-.5 1-.7 1.7-.7s1.2.3 1.6.8c.4.5.6 1.2.6 2 .1.8-.2 1.4-.6 2z"})),O=(0,t.createElement)(E.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(E.Path,{d:"M14.7 11.3c1-.6 1.5-1.6 1.5-3 0-2.3-1.3-3.4-4-3.4H7v14h5.8c1.4 0 2.5-.3 3.3-1 .8-.7 1.2-1.7 1.2-2.9.1-1.9-.8-3.1-2.6-3.7zm-5.1-4h2.3c.6 0 1.1.1 1.4.4.3.3.5.7.5 1.2s-.2 1-.5 1.2c-.3.3-.8.4-1.4.4H9.6V7.3zm4.6 9c-.4.3-1 .4-1.7.4H9.6v-3.9h2.9c.7 0 1.3.2 1.7.5.4.3.6.8.6 1.5s-.2 1.2-.6 1.5z"})),k=(0,t.createElement)(E.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(E.Path,{d:"M12.5 5L10 19h1.9l2.5-14z"}));function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?S(Object(r),!0).forEach((function(n){e(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var I=wp.blocks.registerBlockType,z=wp.serverSideRender,j=wp.components,A=j.Panel,B=j.PanelBody,D=j.PanelRow,H=j.ToggleControl,L=j.SelectControl,_=j.RangeControl,V=j.__experimentalUnitControl,F=(j.FontSizePicker,j.Toolbar,j.ToolbarGroup),M=j.ToolbarButton,N=(j.ToolbarItem,j.ToolbarDropdownMenu),W=(j.DropdownMenu,j.Flex),R=j.FlexItem,G=(j.Button,j.TextControl,j.Dropdown,j.Icon,wp.blockEditor),U=G.useBlockProps,Q=G.BlockControls,J=G.AlignmentToolbar,$=G.ColorPaletteControl,q=G.InspectorControls;wp.data.useSelect,I(w.name,T(T({},w),{},{edit:function(e){var n,r,l,o,a,i,c,u,s,p,d,m,h,y,v,f,g,E,S,I,j,G,K=e.attributes,X=e.setAttributes,Y=U(),Z=wp.data.select("core/editor").getCurrentPost(),ee=wp.data.select("core/editor").getEditedPostAttribute("parent");null===K.parentPostId&&(K.showSiblings?K.parentPostId=ee:K.parentPostId=Z.id);var te=function(e,t){var n,r={};r[e]=t;var l=T(T({},K),{},{style:T(T({},K.style),{},{typography:T(T({},null===(n=K.style)||void 0===n?void 0:n.typography),r)})});t||delete l.style.typography[e],console.log(l),X(l)};return(0,t.createElement)("div",Y,(0,t.createElement)(q,null,(0,t.createElement)(A,null,(0,t.createElement)(B,{title:"Query Control"},(0,t.createElement)("p",null,"Select the page to draw children from:"),(0,t.createElement)(b,{label:"Parent Context",parentPostId:K.parentPostId,onChange:function(e){X({parentPostId:e})}}),K.parentPostId&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("p",null,"If the current page is in the parent context's hierarchy:"),(0,t.createElement)(H,{label:"Include This Page's Children",checked:K.showChildren,onChange:function(e){return X({showChildren:e})}})),(0,t.createElement)(D,null,(0,t.createElement)(_,{label:"Maximum Depth of Children",allowReset:!0,resetFallbackValue:0,step:1,withInputField:!1,marks:[{value:0,label:"All"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"}],value:K.depth,onChange:function(e){return X({depth:e})},min:0,max:6}))),(0,t.createElement)(B,{title:"Display Style"},(0,t.createElement)(W,{align:"top"},(0,t.createElement)(R,{style:{width:"50%"}},(0,t.createElement)(L,{label:"Display Type",value:K.displayType,onChange:function(e){return X({displayType:e})},options:[{value:"plain",label:"Plain"},{value:"bullets",label:"Bulleted"},{value:"numbered",label:"Numbered"}]})),(0,t.createElement)(R,{style:{width:"50%"}},(0,t.createElement)(V,{label:"Child Indentation",onChange:function(e){return X({childIndent:e})},isUnitSelectTabbable:!0,value:K.childIndent}))),(0,t.createElement)($,{label:"Link Color",value:K.linkColor,onChange:function(e){return X({linkColor:e})}}),(0,t.createElement)(D,null,(0,t.createElement)(H,{label:"Underline Links",checked:K.underlineLinks,onChange:function(e){return X({underlineLinks:e})}})),(0,t.createElement)($,{label:"Hover Link Color",value:K.linkColorHover,onChange:function(e){return X({linkColorHover:e})}}),(0,t.createElement)(D,null,(0,t.createElement)(H,{label:"Underline Links on Hover",checked:K.underlineOnHover,onChange:function(e){return X({underlineOnHover:e})}}))))),(0,t.createElement)(Q,null,(0,t.createElement)(J,{value:K.textAlign,onChange:function(e){return X({textAlign:e})}}),(0,t.createElement)(F,null,(0,t.createElement)(N,{icon:null!==(n=K.style)&&void 0!==n&&null!==(r=n.typography)&&void 0!==r&&r.textTransform?"uppercase"===(null===(l=K.style)||void 0===l||null===(o=l.typography)||void 0===o?void 0:o.textTransform)?P:"lowercase"===(null===(a=K.style)||void 0===a||null===(i=a.typography)||void 0===i?void 0:i.textTransform)?C:x:x,label:"Letter Case",controls:[{title:"Normal",icon:x,isActive:!(null!==(c=K.style)&&void 0!==c&&null!==(u=c.typography)&&void 0!==u&&u.textTransform),onClick:function(){return te("textTransform",null)}},{title:"UPPERCASE",isActive:"uppercase"===(null===(s=K.style)||void 0===s||null===(p=s.typography)||void 0===p?void 0:p.textTransform),icon:P,onClick:function(){return te("textTransform","uppercase")}},{title:"Capitalize",isActive:"capitalize"===(null===(d=K.style)||void 0===d||null===(m=d.typography)||void 0===m?void 0:m.textTransform),icon:x,onClick:function(){return te("textTransform","capitalize")}},{title:"lowercase",isActive:"lowercase"===(null===(h=K.style)||void 0===h||null===(y=h.typography)||void 0===y?void 0:y.textTransform),icon:C,onClick:function(){return te("textTransform","lowercase")}}]})),(0,t.createElement)(F,null,(0,t.createElement)(M,{icon:O,label:"Bold",isPressed:(null===(v=K.style)||void 0===v||null===(f=v.typography)||void 0===f?void 0:f.fontWeight)&&700===(null===(g=K.style)||void 0===g||null===(E=g.typography)||void 0===E?void 0:E.fontWeight),onClick:function(){var e,t;return te("fontWeight",700===(null===(e=K.style)||void 0===e||null===(t=e.typography)||void 0===t?void 0:t.fontWeight)?null:700)}}),(0,t.createElement)(M,{icon:k,label:"Italic",isPressed:(null===(S=K.style)||void 0===S||null===(I=S.typography)||void 0===I?void 0:I.fontStyle)&&"normal"!==(null===(j=K.style)||void 0===j||null===(G=j.typography)||void 0===G?void 0:G.fontStyle),onClick:function(){var e,t;return te("fontStyle","italic"===(null===(e=K.style)||void 0===e||null===(t=e.typography)||void 0===t?void 0:t.fontStyle)?null:"italic")}}))),(0,t.createElement)(z,{block:w.name,attributes:K,urlQueryArgs:{post_id:Z.id}}))}}));var K={};K.cumulus=(0,t.createElement)("svg",{className:"custom-icon custom-icon-cumulus",enableBackground:"new 0 0 645.28 645.45",viewBox:"0 0 645.28 645.45",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)("path",{d:"m543.62 329.45c-3.21 19.07-19.75 33.62-39.74 33.62-22.28 0-40.34-18.06-40.34-40.34s18.06-40.34 40.34-40.34c19.98 0 36.53 14.54 39.74 33.62h101.66c-3.59-175.13-146.57-316.01-322.56-316.01-178.23 0-322.72 144.49-322.72 322.72 0 178.24 144.49 322.72 322.72 322.72 175.98 0 318.96-140.88 322.55-316h-101.65zm-220.9 235.32c-133.68 0-242.04-108.37-242.04-242.04s108.37-242.05 242.04-242.05c77.12 0 145.76 36.11 190.09 92.3l-86.74 86.74c-21.26-34.79-59.58-58.02-103.34-58.02-66.84 0-121.02 54.18-121.02 121.02s54.18 121.02 121.02 121.02c43.76 0 82.09-23.23 103.34-58.02l86.74 86.74c-44.32 56.2-112.97 92.31-190.09 92.31z",fill:"#00598e"})),K.bigFeature=(0,t.createElement)("svg",{className:"custom-icon custom-icon-bigfeature",enableBackground:"new 0 0 20 20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)("path",{d:"m18.58 0h-17.16c-.78 0-1.42.64-1.42 1.42v17.15c0 .79.64 1.43 1.42 1.43h17.15c.79 0 1.42-.64 1.42-1.42v-17.16c.01-.78-.63-1.42-1.41-1.42zm-9.38 17.77c0 .43-.35.78-.78.78h-6.19c-.43 0-.78-.35-.78-.78v-6.19c0-.43.35-.78.78-.78h6.19c.43 0 .78.35.78.78zm9.35 0c0 .43-.35.78-.78.78h-6.19c-.43 0-.78-.35-.78-.78v-6.19c0-.43.35-.78.78-.78h6.19c.43 0 .78.35.78.78zm0-9.47c0 .43-.35.78-.78.78h-15.54c-.43 0-.78-.35-.78-.78v-6.07c0-.43.35-.78.78-.78h15.54c.43 0 .78.35.78.78z",fill:"#00588d"}));var X=K;wp.blocks.updateCategory("cmls",{icon:X.cumulus})}()}();